## 操作シナリオ

ここでは主に、アセットを作成する方法について説明します。これにより、GSEにアセットファイルをアップロードしてデプロイし、ゲームをホスティングすることができます。

## 操作手順

1. [GSEコンソール](https://console.cloud.tencent.com/gse/asset)にログインし、左側メニューの**アセット**をクリックします。
2. 左上のサービスエリアを選択し、**新規作成**をクリックします。
3. アセットを新規作成するには、ページからのアップロードとコマンドラインのアップロードという2つの方法があります。

### ページからのアップロード
アセット名、アセットのバージョン、OS、送信方式、アップロードコードといったパッケージの基本情報を入力し、**OK**をクリックします。
   - アセット名：アセットの説明的な名前を作成します。一意である必要はなく、編集、更新ができます。
   - アセットのバージョン：アセットのバージョンの詳しい情報を説明し、アセットのバージョンを区別するために用います。
   - OS：ゲームサーバーアセットのオペレーティングシステムを指定します。アセットを作成した後は変更できません。
   - 送信方式：現在、ZIPパッケージのローカルからのアップロードのみをサポートしています。
   - アップロードコード：アセットには、[gRPCフレームワークの統合](https://intl.cloud.tencent.com/document/product/1055/37418)が必要です。アセットディレクトリには、ゲームサーバーの実行可能ファイル、依存パッケージ、インストールスクリプトなどゲームサーバーの実行に必要なすべてのコンポーネントが含まれなければなりません。これらすべてはZIPパッケージに圧縮されます。
     - ゲームサーバー実行可能ファイル：ゲームサーバーを実行するために必要なファイルです。アセットには、複数のゲームサーバー実行可能ファイルを含めることができますが、それらすべてが同じプラットフォーム向けにビルドされている場合に限ります。
     - 依存パッケージ：ゲームサーバー実行可能ファイルを実行するために必要なあらゆる関連ファイルです。
     - インストールスクリプト：GSEがホスティングするサーバー上で、アセットをインストールするためのタスクを実行するために用います。このファイルは、アセットディレクトリのルートディレクトリに配置する必要があり、フリートの作成中に1回実行されます。詳細については[ゲームプロセス起動設定](https://intl.cloud.tencent.com/document/product/1055/39885)をご参照ください。
   - タグ：タグは、さまざまな次元からリソースのカテゴリー管理を行うために用います。既存のタグが要件を満たさない場合は、[タグの管理](https://console.cloud.tencent.com/tag/taglist)コンソールに移動して、タグを新規作成してください。
![](https://main.qcloudimg.com/raw/e4b2ea4e83d3362e8824587160d0e05a.png)

### コマンドラインのアップロード

#### 手順1：スクリプトのダウンロード
[uploadasset.pyスクリプト](https://uploadasset-1301007756.cos.ap-guangzhou.myqcloud.com/uploadasset.zip?_ga=1.169449890.2037398510.1594263380)をダウンロードします。

#### 手順2：インストールスクリプトの依存パッケージ
スクリプトの実行は、次の2つのインストールパッケージに依存して行う必要があります。
-  **tencentcloud-sdk-python**
 -  インストールコマンド：`pip install tencentcloud-sdk-python`。
 -  サポートされるバージョン：Tencent Cloud API SDK Python V2.7-V3.6をサポートしています。詳細については、 [Python SDK](https://intl.cloud.tencent.com/document/product/494/7244)をご参照ください。
- **cos-python-sdk-v5**
 - インストールコマンド：`pip install -U cos-python-sdk-v5`。
 - サポートされるバージョン：詳細については、[Python SDK](https://intl.cloud.tencent.com/document/product/436/12269)をご参照ください。

#### 手順3：実行
**1. 設定の変更**
スクリプトで、ユーザーの認証情報を設定します。`secret_id`をユーザーの`secret_id`に置き換え、`secret_key`をユーザーの`secret_key`に置き換える必要があります。

**2. 実行コマンド**
次のコマンドを実行して、スクリプトを実行します。
```
python uploadasset.py  --local_path ./game_folder/
```
コマンドコードを実行すると、インターフェースに`help`というヘルプコードが表示されます。`help`をクリックするとパラメータの詳細情報が表示されます。

>?
>1. コマンドラインからアップロードする場合、パラメータ`--local_path`でアップロードするフォルダパスを指定できます。スクリプトはこのパスの下のコンテンツを自動的に圧縮してパッケージ化します（パスの下のコンテンツのみパッケージ化し、フォルダ自体はパッケージ化されません）ので、ユーザーが自分で圧縮する必要はありません。
>2. オペレーティングシステムのタイプとビット数のアップロードをサポートします。次の方法を使用することをお勧めします。
>```
python uploadasset.py  --local_path ./game_folder/ --os_type=Windows --os_bit=64
python uploadasset.py  --local_path ./game_folder/ --os_type=CentOS --os_bit=64
python uploadasset.py  --local_path ./game_folder/ --image_id=img-9qabwvbn
```
