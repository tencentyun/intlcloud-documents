
### 보안 그룹에 거부 규칙이 기본 설정되어 있는 이유는 무엇인가요?

보안그룹 규칙은 위에서부터 아래까지 순차적으로 필터링하여 적용되며, 전에 설치된 허용 규칙이 통과되면 다른 규칙은 기본으로 무시됩니다. 만일 모든 포트를 오픈하면 마지막 거부 규칙은 적용되지 않습니다. 보안을 고려하여 기본 설치를 제공해 드립니다.

### 보안 그룹 우선순위는 어떻게 조정하나요?

- 자세한 작업 방식은 [보안 그룹 우선순위 조정](https://intl.cloud.tencent.com/document/product/213/35375)을 참조 바랍니다.

### 보안 그룹을 알맞게 선택하지 않으면 해당 보안 그룹의 인스턴스 바인딩에 어떤 영향을 주며, 어떻게 해결할 수 있나요?

**예상 문제**

- (SSH)Linux 인스턴스 원격 연결, 데스크톱 Windows 인스턴스 원격 로그인에 실패할 수 있습니다.
- 해당 보안 그룹의 CVM 인스턴스 공인 IP 및 개인 IP로의 원격 Ping에 실패할 수 있습니다.
- 해당 보안 그룹의 인스턴스가 노출한 웹서비스에 대한 HTTP 액세스에 실패할 수 있습니다.
- 해당 보안 그룹의 인스턴스가 Internet 서비스에 액세스할 수 없습니다.

**솔루션**

- 위와 같은 문제가 발생할 경우 모든 포트를 개방한 보안 그룹만 바인딩하는 등, 콘솔의 보안 그룹 관리에서 보안 그룹 규칙을 재설정하시기 바랍니다. 예시: 모든 포트를 개방한 보안 그룹만 바인딩합니다.
- 보안 그룹 규칙 설정에 대한 자세한 내용은 [보안 그룹 소개](https://intl.cloud.tencent.com/document/product/213/12452)를 참조 바랍니다.

### 보안 그룹의 방향과 정책은 무엇인가요?

보안 그룹 정책의 방향은 아웃바운드와 인바운드로 구분됩니다. 아웃바운드는 CVM의 아웃바운드 트래픽을 필터링하며, 인바운드는 CVM 인바운드 트래픽을 필터링합니다.
보안 그룹 정책은 트래픽 **허용**과 **거절**로 구분됩니다.

### 보안 그룹 정책은 어떤 순서로 적용되나요?

위에서 아래로 적용됩니다. 트래픽이 보안 그룹을 통과할 때 위에서 아래의 순서로 정책이 매칭되며, 매칭 성공 시 정책이 적용됩니다.

### 보안 그룹에서 허용하지 않은 IP가 여전히 CVM에 액세스할 수 있는 이유는 무엇인가요?

다음과 같은 이유가 있을 수 있습니다.
- CVM이 여러 보안 그룹을 바인딩하여, 특정 IP가 다른 보안 그룹에서 허용되었을 수 있습니다.
- 특정 IP가 승인된 Tencent Cloud의 공용 서비스에 해당할 가능성이 있습니다.

### 보안 그룹을 사용하면 iptables을 사용할 수 없음을 의미하나요?

아닙니다. 보안 그룹과 iptables를 동시에 사용할 수 있으며, 이 경우 트래픽이 두 번 필터링되어 트래픽 방향은 다음과 같습니다.
- 아웃바운드: 인스턴스 상의 프로세스 > iptables > 보안 그룹
- 인바운드: 보안 그룹 > iptables > 인스턴스 상의 프로세스

### CVM을 전부 반환했음에도 보안 그룹을 삭제할 수 없는 이유는 무엇인가요?

휴지통에 CVM이 남아 있는지 확인하시기 바랍니다. 보안 그룹이 휴지통 내의 CVM에 바인딩된 상태에서는 삭제할 수 없습니다.

### 보안 그룹을 클론 시 타깃 리전의 보안 그룹과 동일한 이름을 사용할 수 있나요?

사용할 수 없습니다. 타깃 리전의 현재 보안 그룹 이름과 다른 이름을 사용해야 합니다.

### 보안 그룹은 사용자 간의 클론을 지원하나요?

현재는 지원하지 않습니다.

### 보안 그룹의 프로젝트 간/리전 간 클론은 클라우드 API의 지원을 받을 수 있나요?

현재 콘솔을 이용하는 고객에게 MC의 지원은 제공하고 있으나, 클라우드 API는 현재 지원하지 않습니다. 기존에 일괄 가져오기/내보내기 한 보안 그룹 규칙의 클라우드 API를 통해 보안 그룹의 프로젝트 간/리전 간의 클론을 간접적으로 실행할 수 있습니다.

### 보안 그룹의 프로젝트 간/리전 간 클론 시 보안 그룹이 관리하는 CVM도 함께 복사되나요?

복사되지 않습니다. 보안 그룹의 리전 간 클론은 기존 보안 그룹의 인바운드/아웃바운드 규칙만 클론하며, CVM은 별도로 연결해야 합니다.

### 보안 그룹이란 무엇인가요?
보안 그룹은 스테이트풀 데이터 패킷 필터링 기능을 갖춘 일종의 가상 방화벽으로서, Cloud Virtual Machine(CVM), Cloud Load Balace(CLB), Cloud Database(CDB) 등 인스턴스의 네트워크 액세스 제어에 사용됩니다. 인스턴스의 인바운드/아웃바운드 트래픽 제어는 네트워크 보안에 있어 중요한 격리 수단입니다.

모든 CVM 인스턴스는 최소 하나의 보안 그룹에 소속되어야 하므로, 인스턴스 생성 시 보안 그룹을 반드시 지정해야 합니다. 동일한 보안 그룹에 있는 CVM 인스턴스끼리는 네트워크 통신이 가능하며, 보안 그룹이 다른 CVM 인스턴스끼리는 내부 네트워크 통신이 불가능하도록 기본 설정되어 있으므로 두 보안 그룹이 서로 액세스할 수 있도록 권한을 부여할 수 있습니다. 자세한 내용은 [보안 그룹 소개](https://intl.cloud.tencent.com/document/product/213/12452)를 참조 바랍니다.

### CVM 인스턴스를 생성할 때 보안 그룹을 선택해야 하는 이유가 무엇인가요?
CVM 인스턴스를 생성하기 전에 반드시 보안 그룹을 선택하여 애플리케이션 환경의 보안 도메인을 구분해야만 보안 그룹 규칙을 추가하여 네트워크 보안을 합리적으로 격리할 수 있습니다.

### CVM 인스턴스를 생성할 때 보안 그룹을 생성하지 않았다면 어떻게 해야 하나요?
CVM 인스턴스를 생성하기 전에 보안 그룹을 생성하지 않았다면 신규 보안 그룹을 생성할 수 있습니다.
신규 보안 그룹 생성 시 다음과 같은 규칙을 제공하며, 실제 수요에 따라 IP/포트를 개방하시기 바랍니다.
- ICMP: ICMP 프로토콜을 개방하여, 공용 네트워크에서 서버 Ping 허용.
- TCP:80: 80포트를 개방하여, HTTP를 통해 웹서비스에 액세스 허용.
- TCP:22: 22포트를 개방하여, SSH를 통해 Linux CVM에 원격 연결 허용.
- TCP:443: 443포트를 개방하여, HTTPS를 통해 웹서비스에 액세스 허용.
- TCP:3389: 3389포트를 개방하여, RDP를 통해 Windows CVM에 원격 연결 허용.
- 내부 네트워크 개방: 내부 네트워크를 개방하여, 서로 다른 클라우드 리소스 간의 내부 네트워크 통신 허용(IPv4).


### 어떤 상황에서 기본 보안 그룹 규칙을 사용하나요?
다음과 같은 상황에서 기본 보안 그룹을 사용합니다.
- CVM 인스턴스를 생성할 때 [빠른 구성]을 선택하여 CVM을 구매했다면 자동으로 시스템에서 기본 보안 그룹을 생성합니다. 해당 보안 그룹에서 기본 규칙을 사용합니다(인바운드에서 모든 포트의 통과를 허가하고, 아웃바운드에서 모든 액세스를 허용합니다).
Tencent Cloud 보안 차원에서 보안 그룹을 다시 연결하시길 권장합니다. 또한, 불필요한 보안 리스크에 대비하여 새로 연결한 보안 그룹은 비즈니스에 필요한 포트만 개방하시기를 권장합니다.
- CVM 콘솔에서 보안 그룹을 생성할 때 보안 그룹 템플릿을 선택한 경우. 현재 "Windows 로그인" 템플릿, "Linux 로그인" 템플릿, "Ping" 템플릿, "HTTP(80)" 템플릿 및 "HTTPS(443)" 템플릿을 제공하고 있습니다.
