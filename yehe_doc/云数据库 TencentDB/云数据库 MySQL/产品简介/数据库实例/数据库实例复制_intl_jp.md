データベースインスタンスのレプリケーションとは、サーバーに一つか複数のバックアップデータベースを配置し、データの同期を行い、MySQLのデータを複数のシステムに分散させることです。MySQLは3種類のデータレプリケーション方法をサポートしています。

>?
>- Masterはマスターデータベースのインスタンスであり、Slaveはバックアップデータベースのインスタンスです。
>- MySQL v5.6、v5.7、v8.0は、非同期、準同期、完全同期の3つのレプリケーションモードをサポートしています。 MySQL v5.5では、非同期モードのみを使用できます。

### 非同期レプリケーション
アプリケーションはデータ更新（insert、update、delete操作を含む）リクエストを送信した場合、Masterは更新操作を実行してからすぐにアプリケーションに応答し、次にSlaveにデータをレプリケーションします。

データ更新中に、MasterはSlaveの応答を待つ必要がないため、非同期レプリケーションされたデータベースインスタンスは高い性能があり、且つSlaveの利用不能の場合、Masterの外部サービスにを影響しません。ただし、データはリアルタイムにSlaveに同期していなく、MasterはSlaveにレイテンシーがある場合に障害が起こったら、小さい確率ながらデータ不一致が起こる可能性があります。
Tencent MySQLの非同期レプリケーションは1マスター1スレーブ仕組みを採用しています。

### 半同期レプリケーション
アプリケーションはデータ更新（insert、update、delete操作を含む）リクエストを送信した場合、Masterは更新操作を実行してからすぐにSlaveにデータをレプリケーションします。Slaveが**データを受信しrelay logに書き込んだ（実行する必要がない）**後にMasterへ成功メッセージを戻します。MasterはSlaveの成功メッセージを受信した後にアプリケーションに応答を戻さなければなりません。

データレプリケーションに異常（Slaveノードが利用不可能になった、或いはデータレプリケーションに使われているネットワークに異常があった）があった場合にのみ、Masterはアプリケーションに対する応答を一時的に停止（MySQLはデフォルトで10秒ぐらい）し、レプリケーション方法を非同期レプリケーションにダウングレードします。データのレプリケーションが正常に復帰した時に、半同期レプリケーションに戻されます。
Tencent MySQLの半同期レプリケーションは1マスター1スレーブ仕組みを採用しています。

### 強い同期レプリケーション　　
アプリケーションはデータ更新（insert、update、delete操作を含む）リクエストを送信した場合、Masterは更新操作を実行してから直ちにSlaveにデータをレプリケーションします。Slaveが**データを受信し実行した**後にMasterへ成功メッセージを戻します。MasterはSlaveの成功メッセージを受信した後にアプリケーションに応答を戻さなければなりません。

MasterからSlaveへのデータレプリケーションは同期に行われているため、Masterにおける毎回の更新操作はSlaveも同時に成功に実行することを確保する必要があるため、強い同期レプリケーションは最大限にマスター／スレーブのデータ一致性を保証することが可能です。ただし、毎回Masterの更新リクエストはSlaveの返信に強く依存しているため、Slaveが1台しかない場合は、その利用不能はMasterでの操作を大いに影響してしまいます。

Tencent MySQLの強い同期レプリケーションは1マスター2スレーブの仕組みを採用することにより、その内1台のSlaveが成功に実行したら返信できますので、単一Slaveの利用不能によるMasterでの操作への影響を避け、強い同期レプリケーションクラスターの可用性を向上させます。
