<span id="que1"></span>
### Can I customize the resolution of the short videos shot by UGSV? Which outputs can be customized?
The customizable parameters of short video shooting include frame rate in fps (number of image frames displayed per second), GOP length (number of seconds between key I frames), video bitrate (volume of audio/video data generated by the encoder per second), and maximum/minimum shooting duration. Three shooting resolutions are provided as constants for your choice: 360x640, 540x960, and 720x1280.

The following describes why the shooting resolution is set through a constant instead of a variable:
- The three values are mainstream shooting resolutions.
- Android phones are not compatible with some unpopular resolutions, for which blurred screen, green screen, and pixelization issues may occur.

You can call the `startCameraCustomPreview` API of the `TXUGCRecord` class to pass in the custom shooting parameters as follows:

```
// Customize the configuration
TXRecordCommon.TXUGCCustomConfig customConfig = new TXRecordCommon.TXUGCCustomConfig();
customConfig.videoResolution =  TXRecordCommon.VIDEO_RESOLUTION_540_960;
customConfig.minDuration = mMinDuration;  // Minimum duration
customConfig.maxDuration = mMaxDuration;  // Maximum duration
customConfig.videoBitrate = mBiteRate;    // Video bitrate
customConfig.videoGop = mGop;             // GOP length
customConfig.videoFps = mFps;             // Frame rate in fps
customConfig.isFront = mFront;            // Whether to use the front camera
mTXCameraRecord.startCameraCustomPreview(customConfig, mVideoView);
```

<span id="que2"></span>
### Why wasn't the `onRecordComplete` callback received when short video shooting ended on Android?
Before shooting a short video, please call the `setVideoRecordListener()` API of the `TXUGCRecord` class to set a listener for the shooting callback.
To end shooting, you need to call the `stopRecord()` API of the `TXUGCRecord` class.

```
// Before shooting
mTXCameraRecord = TXUGCRecord.getInstance(this.getApplicationContext());
mTXCameraRecord.setVideoRecordListener(this);

...

// Ending the shooting
mTXCameraRecord.stopRecord();
```


<span id="que3"></span>
### How do I continue to shoot starting from the last shot content when I shoot again after exiting the last shooting in UGSV?
The demo will call `mTXCameraRecord.getPartsManager().deleteAllParts()` after the `onRecordComplete` callback to clear segment files because `stopRecord` has composed the segment files.

To continue the last shooting after exiting it, you do not need to delete the segments. Do not call `mTXCameraRecord.getPartsManager().deleteAllParts()`.

```
@Override
public void onRecordComplete(TXRecordCommon.TXRecordResult result) {
    TXCLog.i(TAG, "onRecordComplete, result retCode = " + result.retCode + ", descMsg = " + result.descMsg + ", videoPath + " + result.videoPath + ", coverPath = " + result.coverPath);
    if (mTXRecordResult.retCode < 0) {
        Toast.makeText(TCVideoRecordActivity.this.getApplicationContext(), "Shoot failed. Cause: " + mTXRecordResult.descMsg, Toast.LENGTH_SHORT).show();
    } else {
        mDuration = mTXCameraRecord.getPartsManager().getDuration(); // Total shooting duration
        if (mTXCameraRecord != null) {
            mTXCameraRecord.getPartsManager().deleteAllParts();  // Delete multiple shot segment files
        }
        startPreview(); // Enter the preview page
    }
```

<span id="que4"></span>
### Why didn't the background music set during short video shooting take effect?
You must set the background music before calling the shooting API (`startRecord` of `TXUGCRecord`) so that the settings can take effect. The call sequence in the code is as shown below:

```
TXRecordCommon.TXUGCSimpleConfig simpleConfig = new TXRecordCommon.TXUGCSimpleConfig();
simpleConfig.videoQuality = TXRecordCommon.VIDEO_QUALITY_MEDIUM;
simpleConfig.minDuration = mMinDuration;
simpleConfig.maxDuration = mMaxDuration;
// 1. Start the preview first
mTXCameraRecord.startCameraSimplePreview(simpleConfig, mVideoView);
// 2. Set the path of the background music file and play back the music
mBGMDuration = mTXCameraRecord.setBGM(mBGMPath);
mTXCameraRecord.playBGMFromTime(0, mBGMDuration);
// 3. Start shooting (`customVideoPath`: path of the shot video; `customPartFolder`: folder of the shot video; `customCoverPath`: path of the shot video cover)
int result = mTXCameraRecord.startRecord(customVideoPath, customPartFolder, customCoverPath);
```

<span id="que5"></span>
### Does shooting support photo capturing?
The UGSV SDK has a photo capturing feature. You can call the `snapshot` API of the `TXUGCRecord` class, and the captured photo will be returned asynchronously through the `TXRecordCommon.ITXSnapshotListener` callback. The sample code is as follows:

```
private void snapshot() {
    if (mTXCameraRecord != null) {
        mTXCameraRecord.snapshot(new TXRecordCommon.ITXSnapshotListener() {
            @Override
            public void onSnapshot(Bitmap bmp) {
                // Captured photo
                saveBitmap(bmp);
            }
        });
    }
}
```

<span id="que6"></span>
### Which speed levels are supported by speed-adjustable shooting?
Speed-adjustable shooting does not support custom speeds.  

Definition | Constant in TXRecordCommon | Multiple of the Original Speed
---|--- | ---
Ultra-slow | RECORD_SPEED_SLOWEST | 0.5x
Slow | RECORD_SPEED_SLOW | 0.8x
Standard | RECORD_SPEED_NORMAL | 1x
Fast | RECORD_SPEED_FAST | 1.25x
Ultra-fast | RECORD_SPEED_FASTEST | 1.5x

You can call `setRecordSpeed(record)` of `TXUGCRecord` to set different shooting speed levels for speed-adjustable shooting.

```
mTXCameraRecord.setRecordSpeed(TXRecordCommon.RECORD_SPEED_FAST);
```

<span id="que7"></span>
### Which formats are supported for video importing? Can I import videos with a resolution higher than 720p (such as 2K and 4K)? Is there an upper limit for the size of the videos to be imported? 
Currently, you can import only .mp4 video files on Android. There are no limits regarding the resolution and size of imported files.

- The resolution of imported videos is not limited. The maximum video resolution after preprocessing is 720p, no matter how high the original video resolution is.
- For quicker video importing, preprocessing can be skipped in SDK 4.7 or later (some features such as reverse and single-frame preview will become unavailable without preprocessing). For videos whose resolution is higher than 720p, we recommend preprocessing. As to preview is to decode every frame, on phones with poor performance, the time taken for encoding one frame and rendering it onto the UI will be too long, which will result in lags.

<span id="que8"></span>
### Which background music setting formats are supported in short video editing?
Currently, only .mp3 and .m4a files are supported.

<span id="que9"></span>
### Which outputs can be customized for short video editing?
For short video editing, the video bitrate (in SDK 4.5 or later) and audio bitrate (in SDK 4.7 or later) can be customized. Four resolutions are provided as constants for your choice: 360x640, 480x640, 540x960, and 720x1280.

Resolution | Constant in TXVideoEditConstants  
---|---  
360x640 | VIDEO_COMPRESSED_360P  
480x640 | VIDEO_COMPRESSED_480P 
540x960 | VIDEO_COMPRESSED_540P  
720x1280 | VIDEO_COMPRESSED_720P 
 
```
// Set the output video bitrate
mTXVideoEditer.setVideoBitrate(3600);  
// Set the output resolution
mTXVideoEditer.generateVideo(TXVideoEditConstants.VIDEO_COMPRESSED_720P, mVideoOutputPath);
```

<span id="que10"></span>
### Can I remove the recorded audio from the videos shot with the shooting feature of UGSV? 
Currently, short video shooting does not support recording the background music and voices at the same time. Therefore, to change the background music during editing, you need to set the original volume level to 0 to replace the background music. The source code is as follows:

```
// Set the original video volume level (set it to 0 to remove the recorded background music)
mTXVideoEditer.setVideoVolume(0.0f); 
// Set the path of the local background music
String bgmPath = getBGMPath();
mTXVideoEditer.setBGM(bgmPath);
// Set the volume level of the background music in the value range of 0.0fâ€“1.0f
mTXVideoEditer.setBGMVolume(1.0f);
```

<span id="que11"></span>
### How do I switch between the `Activity` window and the full screen mode to display the preview image?
You need to dynamically modify the dimensions of the parent layout for the video preview view passed in to the SDK. The SDK will internally adjust the video dimensions dynamically according to the video width and height and the parent layout dimensions.  
The APIs of the SDK need to be called in the following sequence:
Call `stopPlay` first, modify the width and height of `FrameLayout` passed in to the SDK, call `initWithPreview(parm)`, pass in the layout that loads the playback component of the new `FrameLayout`, and call `startPlay` again.

```
// Stop the video
mTXVideoEditer.stopPlay();
if (isFullScreen) {
    // If the full screen mode is used, you can use the following code to switch to the window mode
    FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, 1500);
    mVideoPlayerLayout.setLayoutParams(params);
    initPlayerLayout(false);
    isFullScreen = false;
} else {
    // If the window mode is used, you can use the following code to switch to the full screen mode
    FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT);
    mVideoPlayerLayout.setLayoutParams(params);
    initPlayerLayout(false);
    isFullScreen = true;
}
// Start playback
mTXVideoEditer.startPlayFromTime(startTime, endTime);

// Set the preview view again
private void initPlayerLayout(boolean isFullScreen) {
    TXVideoEditConstants.TXPreviewParam param = new TXVideoEditConstants.TXPreviewParam();
    param.videoView = mVideoPlayerLayout;
    if (isFullScreen) {
        param.renderMode = TXVideoEditConstants.PREVIEW_RENDER_MODE_FILL_SCREEN;
    } else {
        param.renderMode = TXVideoEditConstants.PREVIEW_RENDER_MODE_FILL_EDGE;
    }
    mTXVideoEditer.initWithPreview(param);
}
```

<span id="que12"></span>
### The UGSV demo places features such as "clipping" and "filters" on the same page for short video editing, but how can I place "clipping" and "filters" on different pages?
You can clip (`setCutTimeFrom`) and preprocess (`processVideo`) a video at the same time first, and a clipped and preprocessed video will be generated. Then, you can perform various editing operations and clip the video with the entire video duration as the clipping duration (`setCutTimeFrom`). Finally, call `generateVideo` to generate the video to avoid reduced image quality caused by two rounds of compression.

>!If a video has been clipped during preprocessing, during the final generation, you must set the clipping duration to the entire video duration. Otherwise, the video will be clipped again.

```
// Clipping page
mTXVideoEditer = new TXVideoEditer(mContext);
mTXVideoEditer.setCutFromTime(mTCVideoEditView.getSegmentFrom(), mTCVideoEditView.getSegmentTo());
mTXVideoEditer.processVideo();

// Set the clipping duration to the entire video duration (`setCutTimeFrom`)
mTXVideoEditer.setCutFromTime(0, mVideoDuration);
// Redirect to the special effects page for generation
mTXVideoEditer.generateVideo(TXVideoEditConstants.VIDEO_COMPRESSED_720P, mVideoOutputPath);
```
