VODは、アップロードおよびトランスコードされたビデオを再生するための複数の形式をサポートしています。再生は主に次の3つのシーンに区分されます。

| 再生シーン | 特徴 | 推奨する再生方法 |
| -- | -- | -- |
| 短編ビデオの再生 | 通常は視聴時間が5分以内のビデオ | 基本的なプレーヤー |
| 長編ビデオの再生 | 専門機関が制作し、ビデオWebサイトを介して公開されるビデオ | Super Player |
|暗号化されたビデオの再生 | 著作権保護のために暗号化を必要とする長編ビデオシーンのセグメント化されたシーン  | Super Player |

3種類のシーンの特徴と推奨する再生方法について以下に詳しく紹介します。

## 短編ビデオの再生

短編ビデオとは、通常は次のような視聴時間が5分以内のビデオです。

* UGSVソーシャルプラットフォーム（微視（WeSee）、快手（Kuaishou）、抖音 （Douyin））で共有されるビデオ。
* eコマースショッピングプラットフォーム（京東（JD.com）、拼多多 （Pinduoduo））の商品PRビデオ。
* WeChat公式アカウント、メディア で共有されるショートムービー。



### 再生アーキテクチャ
短編ビデオの再生シーンでは、VODでは**基本的なプレーヤーSDK**を提供し、URLをパラメータとして、VODのビデオを再生します。

<img src="https://main.qcloudimg.com/raw/a9d4a24cefcdb3ccba1b316ea6be9ee0.png" width="700" />

基本的なプレーヤーSDKを使用して再生する全体的なアーキテクチャフローは次のとおりです。
1. **サーバーからのアップロード**：ビジネスバックエンドでは、コンソールやサーバーAPIといった形式により、ビデオをVODにアップロードします。
2. **ビデオ処理の有効化**：ビデオをアップロードするときに、トランスコードを指定できます。アップロード後、ビデオのトランスコード処理が開始されます。
3. **トランスコードとストレージへの書き込み**：ビデオがトランスコードされた後、出力されたビデオコンテンツはVODのストレージに書き込まれます。
4. **コンテンツのダウンロード**：基本的なプレーヤーは、ダウンロードアドレスを介してVOD CDNからコンテンツをダウンロードします。
5. **再生**：基本的なプレーヤーが再生を開始します。

### 基本的なプレーヤーの統合
基本的なプレーヤーSDKがサポートする機能については、 [機能リスト](#p1) をご参照ください。統合方法については、 [ダウンロードと使用](#p2) の部分をご参照ください。

## 長編ビデオの再生

長編ビデオは、通常、次のような専門機関によって制作され、ビデオWebサイトを介して公開されるビデオのことです。

* ビデオメディアプラットフォーム（Tencent Video、優酷（Youku）、愛奇芸（iQIYI））で公開される独占放送のドラマ、バラエティ番組。
* eラーニングWebサイト（Tencent Class、Penguin Tutoring ）の学習ビデオ。
* ネットワークTVプラットフォーム（CNTV、Mango TV）のテレビ番組ビデオの再生。 

<img src="https://main.qcloudimg.com/raw/261acb48f5d44c8170d34e60bb3947c2.png" width="800" />
<img src="https://main.qcloudimg.com/raw/382d1cece21cb857c71164e905ca02d8.png" width="800" />

### 再生アーキテクチャ

長編ビデオの再生シーンでは、VODは**Super Player SDK**を提供し、FileIdをパラメータとして、VODのビデオを再生します。

<img src="https://main.qcloudimg.com/raw/f6b52d9429111812b0ee0e78654f2e34.png" width="700" />

Super Player SDKを使用して再生する全体的なアーキテクチャフローは次のとおりです。
1. **サーバーからのアップロード**：ビジネスバックエンドでは、コンソールやサーバーAPIといった形式により、ビデオをVODにアップロードします。
2. **ビデオ処理のトリガー**：ビデオをアップロードすると同時に、アダプティブビットレートストリーミングが指定されます。アップロード後、ビデオ処理が開始されます。
3. **アダプティブビットレートストリーミングとストレージへの書き込み**：ビデオがアダプティブビットレートストリーミングに変換された後、出力されたビデオコンテンツはVODのストレージに書き込まれます。
4. **メディア資産の更新**：アダプティブビットレートストリーミングに変換されたビデオ情報は、メディア資産管理モジュールに書き込まれます。
5. **ダウンロードアドレスのリクエスト**：Super Playerは、再生するビデオの FileIdを指定した後、VODの再生サービスからビデオのダウンロードアドレスを取得します。
6. **コンテンツのダウンロード**：Super Playerは、ダウンロードアドレスを介してVOD CDNからコンテンツをダウンロードします。
7. **再生**：Super Playerは、出力されたアダプティブビットレートストリーミングの再生を開始します。

再生するビデオの [Keyリンク不正アクセス防止](https://intl.cloud.tencent.com/document/product/266/33986)が有効になっている場合は、再生時に [Super Player署名](https://intl.cloud.tencent.com/document/product/266/38099)を指定する必要があります。この時のアーキテクチャフローは次のとおりです。

1. ビジネスバックエンドに「署名配付」サービスを構築し、署名は [プレーヤー署名計算ルール](https://intl.cloud.tencent.com/document/product/266/38099#.E7.AD.BE.E5.90.8D.E8.AE.A1.E7.AE.97) に基づいて生成される必要があります。
2. Super Playerは、ビデオ再生前にプレーヤー署名を取得する必要があります（下図手順5をご参照ください）。
3. Super Playerがダウンロード アドレスをリクエストする時（下図手順6）、再生サービスはアドレスを返す前に署名が有効であることを確認する必要があります。

<img src="https://main.qcloudimg.com/raw/e5ae52f1b5f15f289b6f54aa28917da4.png" width="700" />

### Super Playerの統合

Super Player SDKがサポートする機能については、 [機能リスト](#p1) をご参照ください。統合方法については、 [ダウンロードと使用](#p2) の部分をご参照ください。
VODのSuper Playerをすばやく統合できるように、Super Playerの[アクセスガイド]( https://intl.cloud.tencent.com/document/product/266/38098) を提供し、統合手順について例示して説明しています。 

## 暗号化されたビデオの再生
ビデオの暗号化は、長編ビデオのシーンでは特定のシーンに該当します。ビデオプラットフォームの独占ドラマ、オンライン学習などの著作権で保護されたビデオに対し、ビデオが違法にダウンロードや配布されるのを防止するために暗号化を採用しています。
VODは [ビデオ暗号化の概要](https://intl.cloud.tencent.com/document/product/266/38131) と [ビデオ暗号化の統合ガイド](https://intl.cloud.tencent.com/document/product/266/38294) でそれぞれビデオ暗号化の原理と統合方法について説明しています。

## Player+
### ダウンロードと使用[](id:p2)

| プレーヤーのタイプ| SDKダウンロードアドレス | 使用するドキュメント |
| -- | -- | -- |
| Super Player |  <ul style="margin:0;"><li>[Android](https://intl.cloud.tencent.com/document/product/266/33975)</li><li>[iOS](https://intl.cloud.tencent.com/document/product/266/33976)</li><li>[Web](https://intl.cloud.tencent.com/document/product/266/33977)</li><li>[Flutter](https://intl.cloud.tencent.com/document/product/266/42099)</li> | <ul style="margin:0;"><li>[Android](https://intl.cloud.tencent.com/document/product/266/33975)</li><li>[iOS](https://intl.cloud.tencent.com/document/product/266/33976)</li><li>[Web](https://intl.cloud.tencent.com/document/product/266/33977)</li><li>[Flutter](https://intl.cloud.tencent.com/document/product/266/42099)</li> |


### 機能リスト[](id:p1)
#### 基本的なプレーヤー
| 機能 | 説明 | モバイル端末（Android と iOS）| Web端末  |
| -- | -- | -- | -- |
| 豊富な形式 |  RTMP、FLV、HLS、MP4 など豊富なオーディオビデオ形式をサポート | &#10003;  | &#10003; |
|  最初のフレームのインスタントストリーミング | ビデオの最初のフレームを即座にストリーミングできます | &#10003; | &#10003; |
| 解像度のシームレスな切り替え | 各解像度への切り替えをラグなしで実行します | &#10003; | × |
| 高速 seek | 指定位置をすばやく見つけて再生できます | &#10003; | &#10003; |
| H.265ハードウェアデコード | H.265ハードウェアのデコードと再生をサポート | &#10003; | × |
| ソフトウェアとハードウェアデコード自動切り替え | 端末がハードウェアデコードをサポートしていない場合、自動的にソフトウェアデコードに切り替えます | &#10003; | × |
| HTTPヘッダーのカスタマイズ | ビデオリソースリクエスト時のHTTP Headersのカスタマイズ | &#10003; | × |
| アダプティブビットレート| HLSアダプティブビットレートストリーミングの再生時、ネットワーク帯域幅に基づき適応して再生します | &#10003; | &#10003; |
| スモールウィンドウ再生 | スモールウィンドウに切り替えて再生します | &#10003; | × |
| 変速再生 | 各種倍速で再生し、速度が変わってもピッチはそのままです | &#10003; | × |
| 再生同時ダウンロード | 再生されると同時に後続のコンテンツがダウンロードされ、バッファリングされます | &#10003; | &#10003; |
| 弾幕 | ビデオ上部に弾幕を表示します | &#10003; | × |
| ミュート | ビデオ再生時にミュートにします | &#10003; | &#10003; |
| ビデオスクリーンキャプチャ | ビデオ画像をスクリーンキャプチャします | &#10003; | × |
| ビデオ回転 | ビデオ画像を角度に応じて回転させます | &#10003; | × |
| ビデオミラーリング | 水平、垂直方向などのミラーリング | &#10003; | × |
| スクリーン塗りつぶしの適応 | スクリーンサイズに合わせてビデオ画像の各種塗りつぶしモードを選択します | &#10003; | × |
| 再生開始時間のカスタマイズ | ビデオの再生開始時間をカスタマイズします | &#10003; | &#10003; |
| カバーの設定 | 再生するビデオのカバーを設定します  | &#10003; | &#10003; |
| プレーヤーサイズの設定 | プレーヤーの幅と高さを設定します | &#10003; | &#10003; |
| HTTPSをサポート | HTTPSビデオリソースの再生をサポートします | &#10003; | &#10003; |
| URLを介した再生 | ネットワークビデオをURLで再生 | &#10003; | &#10003; |
| CSSレコーディング | CSSレコーディングのビデオを再生します | ✓ | ✓ |
| ビデオレンダリングのカスタマイズ | デコード後にスクリーンにレンダリングできます | &#10003; | × |
| シームレスループ再生 | 1つのビデオの再生が完了した後にループ再生します | &#10003; | &#10003; |
| インタラクティブフローティングウィンドウ |  フローティングウィンドウで再生します | ＆＃10003; | × |
| ビデオの自動回転 | ビデオファイル内の rotate パラメータに基づきビデオを回転させます | &#10003; | × |
| プログレスコールバック間隔のカスタマイズ | プログレスコールバック間隔のカスタマイズをサポートします | &#10003; | × |

#### Super Player
| 機能 | 説明 | モバイル端末（Android と iOS）| Web端末  |
| -- | -- | -- | -- |
|  最初のフレームのインスタントストリーミング | ビデオの最初のフレームを即座にストリーミングできます | &#10003; | &#10003; |
| 解像度のシームレスな切り替え | 各解像度への切り替えをラグなしで実行します | &#10003; | &#10003; |
| 高速 seek | 指定位置をすばやく見つけて再生できます | &#10003; | &#10003; |
| H.265ハードウェアデコード | H.265ハードウェアのデコードと再生をサポート | &#10003; | × |
| ソフトウェアとハードウェアデコード自動切り替え | 端末がハードウェアデコードをサポートしていない場合、自動的にソフトウェアデコードに切り替えます | &#10003; | × |
|リンク不正アクセス防止 | リンク不正アクセス防止機能が有効化されたビデオをサポートします | &#10003; | &#10003;  |
| プレビュー | プレビュー機能が有効化されたビデオをサポートします | &#10003; | &#10003;  |
| 暗号化ビデオの再生 | 暗号化されたビデオを再生します | &#10003; | &#10003;  |
| HTTPヘッダーのカスタマイズ | ビデオリソースリクエスト時のHTTP Headersのカスタマイズ | &#10003; | × |
| アダプティブビットレート| HLSアダプティブビットレートストリーミングの再生時、ネットワーク帯域幅に基づき適応して再生します | &#10003; | &#10003; |
| サブストリーム仕様名のカスタマイズ | カスタムストリームを再生する場合、各サブストリームの仕様名をカスタマイズできます | &#10003; | &#10003; |
| スモールウィンドウ再生 | スモールウィンドウに切り替えて再生します | &#10003; | × |
| 変速再生 | 各種倍速で再生し、速度が変わってもピッチはそのままです | &#10003; | × |
| 再生同時ダウンロード | 再生されると同時に後続のコンテンツがダウンロードされ、バッファリングされます | &#10003; | &#10003; |
| 弾幕 | ビデオ上部に弾幕を表示します | &#10003; | × |
| ミュート | ビデオ再生時にミュートにします | &#10003; | &#10003; |
| ビデオスクリーンキャプチャ | ビデオ画像をスクリーンキャプチャします | &#10003; | × |
| ビデオ回転 | ビデオ画像を角度に応じて回転させます | &#10003; | × |
| ビデオミラーリング | 水平、垂直方向などのミラーリング | &#10003; | &#10003; |
| スクリーン塗りつぶしの適応 | スクリーンサイズに合わせてビデオ画像の各種塗りつぶしモードを選択します | &#10003; | × |
| 再生開始時間のカスタマイズ | ビデオの再生開始時間をカスタマイズします | &#10003; | &#10003; |
| ジェスチャー操作 | ジェスチャーを介して、明るさ、音量、進行状況を調整できます | &#10003; | × |
| カバーの設定 | 再生するビデオのカバーを設定します  | &#10003; | &#10003; |
| サムネイルのプレビュー | サムネイルをプログレスバーに表示してプレビューできます | &#10003; | &#10003; |
| プログレスバーのタイムスタンプ | プログレスバーにタイムスタンプ情報を追加します | &#10003; | &#10003; |
| 再生リスト | リスト内のビデオを順に再生します | &#10003; | × |
| プレーヤーサイズの設定 | プレーヤーの幅と高さを設定します | &#10003; | &#10003; |
| ファイルのダウンロード | ネットワーク上のビデオをローカルにダウンロードします | &#10003; | × |
| HTTPSをサポート | HTTPSビデオリソースの再生をサポートします | &#10003; | &#10003; |
| FileIdを経由した再生 | VODのFileIdから再生します | &#10003; | &#10003; |
| ビデオレンダリングのカスタマイズ | デコード後にスクリーンにレンダリングできます | &#10003; | × |
| シームレスループ再生 | 1つのビデオの再生が完了した後にループ再生します | &#10003; | &#10003; |
| インタラクティブフローティングウィンドウ |  フローティングウィンドウで再生します | ＆＃10003; | × |
| ビデオの自動回転 | ビデオファイル内の rotate パラメータに基づきビデオを回転させます | &#10003; | × |
| プログレスコールバック間隔のカスタマイズ | プログレスコールバック間隔のカスタマイズをサポートします | &#10003; | × |
