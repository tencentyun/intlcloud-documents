## 그룹 시스템 소개
그룹 시스템은 다중 사용자 채팅을 지원하는 인스턴트 메시징 시스템으로 기본적으로 다음과 같은 기능이 있습니다.
- 완벽한 [그룹 관리](https://intl.cloud.tencent.com/document/product/1047/33530) 기능: 그룹 생성/해산, 구성원 관리, 그룹 정보 관리, 구성원 프로필 정보 관리 등. 
- 안정적이고 신뢰도 높은 메시지 수발신 기능, 완벽한 [그룹 메시지](https://intl.cloud.tencent.com/document/product/1047/33526) 관리 메커니즘: 권한 제어, 음소거, 메시지 콜백, 메시지 로밍 등.
- 자주 사용되는 시나리오에 따라 **업무 그룹(Work)**, **퍼블릭 소셜 그룹(Public)**, **회의 그룹(Meeting)**, **오디오-비디오 그룹(AVChatRoom)** 및 **커뮤니티(Community)**의 5가지 그룹 유형으로 기본 설정되어 있습니다.
- 그룹 인원 제한:
  - 업무 그룹(Work), 퍼블릭 소셜 그룹(Public) 및 회의 그룹(Meeting)의 인원 제한은 유료로 최대 6000명까지 확장 가능합니다. 자세한 내용은 [요금 안내](https://intl.cloud.tencent.com/document/product/1047/34350)를 참고하십시오.
  - 커뮤니티(Community)는 최대 10만 명을 지원합니다.
  - 오디오-비디오 그룹(AVChatRoom)은 인원 제한이 없습니다. 


>!
>- 오디오 비디오 그룹(AVChatRoom)은 무제한 그룹 구성원을 지원하지만 짧은 시간 내에 그룹 구성원이 급증할 것으로 예상되는 경우(예: 단일 그룹의 구성원 수가 5만명 이상에 도달하는 대규모 온라인 이벤트 시나리오) [Tencent Cloud 문의하기](https://www.tencentcloud.com/contact-us) 또는 영업팀에 문의하십시오. SDKAppID와 예정된 이벤트 시간을 제공하여 서비스 리소스 사용량을 보고합니다.
>- 현재는 오디오-비디오 그룹 외 그룹만 메시지 기록 저장 기능을 지원합니다(체험판 및 프로 버전: 기본 7일, 플래그십 버전: 30일). 저장 기간 연장이 필요하시면, [콘솔](https://console.cloud.tencent.com/im)에서 메시지 기록 저장 시간을 수정할 수 있습니다. 메시지 기록 저장 시간 연장은 유료 부가 가치 서비스로 과금 관련 자세한 내용은 [요금 안내](https://intl.cloud.tencent.com/document/product/1047/34350)를 참고하십시오.
>- 커뮤니티(Community)는 엔터테인먼트 협업을 위한 새로운 도구입니다. 같은 커뮤니티 내에서 서로 다른 그룹과 토픽을 나눌 수 있고, 메시지를 서로 분리할 수 있으며, 계층적 커뮤니케이션을 수행할 수 있습니다. 대규모의 참석자를 수용하고 친구 관계를 공유하여 고유한 소셜 확장 통로를 찾을 수 있도록 지원합니다. 취미, 친구 사귀기, 게임, 소셜, 팬 운영, 조직 관리 등의 시나리오에 적합합니다.
>- 커뮤니티(Community) 기능은 v5.8.1668 이상의 기본 SDK 인핸스드 버전 및 Web SDK v2.17.0 이상에서만 지원됩니다. 이를 사용하려면 [플래그십 버전을 구매](https://buy.cloud.tencent.com/avc?from=17182)하고 [**콘솔**](https://console.cloud.tencent.com/im/qun-setting)>**그룹 기능 설정**>**커뮤니티**로 이동하여 활성화한 후 사용할 수 있습니다.

IM 그룹 시스템은 다음과 같이 높은 수준의 사용자 정의가 가능합니다.

- [사용자 정의 메시지 요소](https://intl.cloud.tencent.com/document/product/1047/33527)
- [사용자 정의 그룹 ID](https://intl.cloud.tencent.com/document/product/1047/33529)
- [사용자 정의 토픽 ID](#customize)
- [사용자 정의 필드](https://intl.cloud.tencent.com/document/product/1047/33529)
- [사용자 정의 콜백](https://intl.cloud.tencent.com/document/product/1047/33529)

## 그룹 구성원 역할 소개

그룹 내 각 구성원의 역할 및 권한은 다음과 같습니다. 

| 그룹 구성원 역할 | 설명      | 관리 권한         |
| ------------ | -------------- | ------------ |
| 일반 구성원     | 관리 권한이 없는 그룹 구성원      |   업무 그룹(Work)에서 일반 구성원은 그룹 정보 수정 권한이 있습니다.    |
| 관리자       | 일정한 그룹 관리 권한을 갖고 있는 그룹 구성원으로 그룹 소유자가 임명 |<ul style="margin:0;"><li>그룹 프로필 정보 수정</li><li>일반 그룹 구성원 그룹에서 내보내기</li><li>일반 그룹 구성원 음소거(일정 시간 동안 발언 금지)</li><li>다른 사용자의 그룹 참여 신청 심사</li></ul>업무 그룹(Work)은 기본적으로 관리자 설정을 지원하지 않습니다. |
| 그룹 소유자        | 그룹에서 가장 높은 관리 권한을 보유한 그룹 개설자    | 그룹 소유자는 관리자가 가진 모든 권한 외에 다음 권한도 보유하고 있습니다.<ul style="margin:0;"><li>관리자 임명/취소</li><li>관리자를 그룹에서 내보내기</li><li>관리자 음소거</li><li>그룹 해산</li><li>그룹 양도</li></ul> |
| App 관리자    | 그룹 소유자보다 더 많은 권한을 보유한 App 내 모든 그룹 관리 권한을 가진 특수 신분  | App 관리자는 그룹에 속해있지 않더라도 그룹 소유자가 가진 모든 권한을 가집니다.    |

[](id:GroupType)
## 그룹 유형 소개

자주 사용되는 시나리오에 따라 기본적으로 다음과 같은 그룹 유형을 제공합니다.

| 그룹 유형   |적용 시나리오   |
|--------|---------|
| 업무 그룹(Work)| 작업 그룹이 생성되면 사용자는 그룹 구성원의 초대를 받아야만 그룹에 가입할 수 있습니다. 초대는 초대받은 사람이 수락하거나 그룹 소유자가 승인할 필요가 없습니다. 이 그룹 유형은 이전 버전의 비공개 그룹(Private)과 동일합니다.  |
| 공개 그룹(Public)| 공개 그룹이 생성된 후 그룹 소유자는 그룹 관리자를 지정할 수 있습니다. 그룹에 가입하려면 사용자가 그룹 ID를 검색하여 요청을 보내고 그룹 소유자 또는 관리자가 요청을 승인해야 그룹에 가입할 수 있습니다.|
| 회의 그룹(Meeting)| 사용자가 자유롭게 입/퇴장할 수 있으며, 사용자 그룹 참여 전의 메시지 기록 보기를 지원합니다. 회의 그룹은 멀티미디어 회의, 온라인 교육 등 Tencent Real-Time Communication(TRTC) 제품 통합 시나리오에 적합합니다. 이전 버전의 ChatRoom과 동일합니다. |
| 오디오-비디오 그룹(AVChatRoom)|사용자가 자유롭게 입/퇴장할 수 있으며, 구성원 인원 제한 및 메시지 기록 저장 기능이 없습니다. Cloud Streaming Services(CSS)와 통합하여 댓글 자막 채팅 시나리오에 활용할 수 있습니다. |
|커뮤니티(Community)|생성 후에는 마음대로 입장/퇴장 가능하고, 최대 지원 인원은 10만 명이며, 메시지 기록 보관이 지원됩니다. 그룹에 입장하기 위해서는 사용자가 그룹 ID를 검색하여 요청을 보내야 하며, 관리자 승인 없이 그룹에 입장할 수 있습니다.|


### 기본 그룹 기능의 차이점

|기능 항목|업무 그룹(Work)|공개 그룹(Public)|회의 그룹(Meeting)|오디오-비디오 그룹(AVChatRoom)|커뮤니티(Community)|
|--- |-- |-- |-- |-- |-- |
|구성원 역할|그룹 소유자<br>일반 구성원<br>App 관리자|그룹 소유자<br>관리자<br>일반 구성원<br>App 관리자|그룹 소유자<br>관리자<br>일반 구성원<br>App 관리자|그룹 소유자<br>App 관리자|그룹 소유자<br>관리자<br>일반 구성원<br>App 관리자|
|그룹 프로필 정보 수정 권한|일반 구성원<br>그룹 소유자<br>App 관리자|그룹 관리자 <br>그룹 소유자<br>App 관리자|그룹 소유자<br>App 관리자|그룹 소유자<br>App 관리자|관리자<br>그룹 소유자<br>App 관리자|
|정보 가져오기 가능한 구성원|전체 그룹 구성원|전체 구성원|전체 구성원|그룹 구성원 정보 저장하지 않음 |전체 구성원|
|그룹 해산 권한|App 관리자|그룹 소유자 및 App 관리자|그룹 소유자 및 App 관리자|그룹 소유자 및 App 관리자|그룹 소유자 및 App 관리자|

>?
>- SDK의 새 버전은 그룹 유형이 전면 업그레이드 되었습니다. 새 그룹 유형은 **업무 그룹(Work)**, **공개 그룹(Public)**, **회의 그룹(Meeting), 오디오-비디오 그룹(AVChatRoom)**, 및 **커뮤니티(Community)**의 5가지 그룹 유형 입니다. 이전 그룹 버전(Public, Private, ChatRoom, AVChatRoom)의 Private 유형은 새로운 그룹 유형 Work(업무 그룹)에 해당되며, ChatRoom 유형은 새로운 그룹 유형 Meeting(회의 그룹)에 해당됩니다.
>- 업무 그룹(Work)의 경우, 일반 구성원은 그룹 이름, 소개, 공지, 그룹 프로필 사진 URL만 수정할 수 있으며 기타 그룹 프로필 정보는 수정할 수 없습니다.
>- 그룹 유형 역할이 귀하의 비즈니스 니즈를 충족하지 못하는 경우, 그룹 구성원 [사용자 정의 필드](https://intl.cloud.tencent.com/document/product/1047/33529) 설정을 통해 새로운 역할을 추가할 수 있습니다. 
>- 일부 그룹 구성원 정보 가져오기는, 일반적으로 오디오-비디오 그룹(AVChatRoom)에서 일부 그룹 구성원 리스트만 표시하는 시나리오에 사용됩니다.

### 그룹 참여 방식의 차이점

|기능 항목|업무 그룹(Work)|공개 그룹(Public)|회의 그룹(Meeting)|오디오-비디오 그룹(AVChatRoom)|커뮤니티(Community)|
|--- |-- |-- |-- |-- |-- |
|그룹 ID 일치 검색을 통한 그룹 참여|미지원|지원|지원|지원|   지원|
|그룹 정보 퍼지 검색을 통한 그룹 참여|미지원|미지원|미지원|미지원|미지원|
|그룹 참여 신청|미지원|지원, 그룹 소유자 또는 관리자 승인 필요|지원, 승인 필요 없음|지원, 승인 필요 없음|지원, 승인 필요 없음|
|구성원의 다른 사용자 그룹 참여 초대|지원|미지원|미지원|미지원|지원|

>?
>- 일치 검색: 그룹 구성원이 아닌 사람은 그룹 ID로 그룹 검색. 퍼지 검색: 그룹 구성원이 아닌 사람은 그룹 이름 등 필드로 그룹 검색.
>- 참여 요청 승인: 그룹 소유자 및 관리자는 그룹에 속하지 않은 사용자의 그룹 참여 신청에 대해 ‘수락’ 또는 ‘거절’을 선택할 수 있으며 승인된 사용자는 그룹에 참여할 수 있습니다. 
>- 그룹 참여 초대를 지원하는 않는 그룹 유형은, 그룹 구성원이 App 내 다른 사용자에게 그룹 ID를 공유하는 방법으로 유사한 효과를 낼 수 있습니다. 

### 구성원 관리 기능의 차이점

|기능 항목|업무 그룹(Work)|공개 그룹(Public)|회의 그룹(Meeting)|오디오-비디오 그룹(AVChatRoom)|커뮤니티(Community) |
|--- |--- |--- |--- |--- |--- |
|관리자 지정|미지원|지원|지원|미지원|  지원|
|그룹 소유자 그룹 퇴장|지원, 퇴장 후 그룹은 소유자 없음 상태로 전환|미지원|미지원|미지원|  미지원|
|그룹 구성원 ‘내보내기’ |지원, 그룹 소유자가 내보내기 가능|지원, 그룹 소유자 및 관리자가 ‘내보내기’ 가능, 관리자는 일반 그룹 구성원만 내보내기 가능|지원, 그룹 소유자 및 관리자가 ‘내보내기’ 가능, 관리자는 일반 그룹 구성원만 내보내기 가능|미지원, ‘음소거’ 기능으로 유사 효과 구현 가능|  지원, 그룹 소유자 및 관리자 ‘내보내기’ 가능, 관리자는 일반 그룹 구성원만 내보내기 가능|
|그룹 구성원 ‘음소거’ 처리|미지원|지원, 그룹 소유자 및 관리자 ‘음소거’ 권한 보유, 관리자는 일반 그룹 구성원만 음소거 가능|지원, 그룹 소유자 및 관리자 ‘음소거’ 권한 보유, 관리자는 일반 그룹 구성원만 음소거 가능|지원, 그룹 소유자 ‘음소거’ 권한 보유|  지원, 그룹 소유자 및 관리자 ‘음소거’ 권한 보유, 관리자는 일반 그룹 구성원만 음소거 가능|
|오프라인 그룹 구성원 정기 삭제|지원. 기본값: 비활성화.|지원. 기본값: 비활성화.|지원. 기본값: 비활성화.|미지원|미지원|

>!음소거된 구성원은 금지 시간 동안 그룹 채팅 메시지를 발송할 수 없습니다. 


### 그룹 제한의 차이점
|기능 항목|업무 그룹(Work)/ 공개 그룹(Public)/ 회의 그룹(Meeting)|오디오-비디오 그룹(AVChatRoom)|커뮤니티(Community)|
|--- |--- |--- |--- |
|인원 제한|<ul style="margin:0;"><li>체험판: 20명/그룹</li><li>프로 버전: 기본 200명/그룹. [부가 서비스](https://intl.cloud.tencent.com/document/product/1047/34350#zz) 구매 시 최대 2000명/그룹까지 확장 가능</li><li>플래그십 버전: 기본 2000명/그룹 [부가 서비스](https://intl.cloud.tencent.com/document/product/1047/34350#zz) 구매 시 최대 6000명/그룹까지 확장 가능</li></ul>|무제한|<li>체험판: 미지원</li><li>프로 버전: 미지원</li><li>플래그십 버전: 기본 10만명/그룹</li>|
|그룹 수량 제한|<ul style="margin:0;"><li>체험판: 총 그룹 수 최대 100개, 해산된 그룹 제외</li><li>프로 버전 또는 플래그십 버전: 무제한</li></ul>|<ul style="margin:0;"><li>체험판: 최대 10개, 해산된 그룹 제외</li><li>프로 버전: 최대 50개, 해산된 그룹 제외 [부가 서비스](https://intl.cloud.tencent.com/document/product/1047/34350#zz) 구매 시 오디오-비디오 그룹 생성 수량 무제한</li><li>플래그십 버전: 무제한</li></ul>|<li>체험판: 미지원</li><li>프로 버전: 미지원</li><li>플래그십 버전: 기본 100000개</li>|

>!
>- 프로 버전 또는 플래그십 버전 SDKAppID의 모든 그룹 유형의 일일 증가 그룹 수(생성 그룹 수에서 해산된 그룹 수 차감) 제한은 1만 개입니다.
>- 프로 버전 또는 플래그십 버전 SDKAppID의 무상 피크 그룹 수는 10만 개/월이며, 무상 수량을 초과하면 [플랜 외 리소스 사용 요금](https://intl.cloud.tencent.com/document/product/1047/34350#jc)이 발생하므로 불필요한 그룹은 해산할 것을 권장합니다. 


### 메시지 기능의 차이점

|기능 항목|업무 그룹(Work)|공개 그룹(Public)|회의 그룹(Meeting)|오디오-비디오 그룹(AVChatRoom)|커뮤니티(Community)|
|--- |--- |--- |--- |--- |--- |
|읽지 않은 메시지 통계|지원|지원|미지원|미지원|지원|
|메시지 기록 저장|지원|지원|지원|미지원|지원|
| 그룹 가입 전의 로밍 메시지 보기 지원 여부 | 기본적으로 비활성화되어 있으며 [콘솔](https://console.cloud.tencent.com/im/qun-setting)에서 구성                              | 기본적으로 비활성화되어 있으며 [콘솔](https://console.cloud.tencent.com/im/qun-setting)에서 구성                              | 기본적으로 활성화되어 있으며 [콘솔](https://console.cloud.tencent.com/im/qun-setting)에서 구성                              | 미지원                                                                                                                                  | 기본적으로 비활성화되어 있으며 [콘솔](https://console.cloud.tencent.com/im/qun-setting)에서 구성                              |
| 그룹 구성원 변경 알림       | 기본 설정: 그룹 초대, 그룹 가입 신청, 내보내기, 그룹 탈퇴 알림 활성화, 로밍 저장, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원                  | 기본 설정: 그룹 초대, 그룹 가입 신청, 내보내기, 그룹 탈퇴 알림 활성화, 로밍 저장, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원                  | 기본 설정: 그룹 초대, 그룹 가입 신청, 내보내기, 그룹 탈퇴 알림 비활성화, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원                      | 기본 설정: 그룹 초대, 그룹 가입 신청, 내보내기, 그룹 탈퇴 알림 활성화, 로밍 저장하지 않음                                                                                                             | 기본 설정: 그룹 초대, 그룹 가입 신청, 내보내기, 그룹 탈퇴 알림 활성화, 로밍 저장, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원                  |
| 그룹 프로필 변경 알림       | 그룹 이름, 그룹 알림, 그룹 소개, 그룹 프로필 사진 또는 그룹 소유자가 변경되면 기본적으로 알림이 푸시되어 로밍 서버에 저장되며, 그룹 음소거 또는 그룹 가입 모드가 변경되면 알림이 기본적으로 비활성화됩니다. 둘 다 [콘솔](https://console.cloud.tencent.com/im/qun-setting)에서 구성할 수 있습니다.|그룹 이름, 그룹 알림, 그룹 소개, 그룹 프로필 사진 또는 그룹 소유자가 변경되면 기본적으로 알림이 푸시되어 로밍 서버에 저장되며, 그룹 음소거 또는 그룹 가입 모드가 변경되면 알림이 기본적으로 비활성화됩니다. 둘 다 [콘솔](https://console.cloud.tencent.com/im/qun-setting)에서 구성할 수 있습니다.|그룹 이름, 그룹 알림, 그룹 소개, 그룹 프로필 사진 또는 그룹 소유자가 변경되면 기본적으로 알림이 푸시되어 로밍 서버에 저장되며, 그룹 음소거 또는 그룹 가입 모드가 변경되면 알림이 기본적으로 비활성화됩니다. 둘 다 [콘솔](https://console.cloud.tencent.com/im/qun-setting)에서 구성할 수 있습니다.|그룹명, 그룹 알림, 그룹 소개, 그룹 프로필 사진 또는 그룹 소유자가 변경되면 알림이 푸시되지만 로밍 서버에 저장되지 않으며, 그룹 음소거 또는 그룹 가입 모드가 변경되면 알림이 비활성화됩니다.|그룹 이름, 그룹 알림, 그룹 소개, 그룹 프로필 사진 또는 그룹 소유자가 변경되면 기본적으로 알림이 푸시되어 로밍 서버에 저장되며, 그룹 음소거 또는 그룹 가입 모드가 변경되면 알림이 기본적으로 비활성화됩니다. 둘 다 [콘솔](https://console.cloud.tencent.com/im/qun-setting)에서 구성할 수 있습니다. 커뮤니티 가입 모드를 변경할 수 없으므로 알림이 푸시되지 않습니다.|
| 그룹 회원 프로필 변경 알림     | 기본 설정: 그룹 회원 음소거, 그룹 관리자 변경 알림 활성화, 로밍 저장, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원                     | 기본 설정: 그룹 회원 음소거, 그룹 관리자 변경 알림 활성화, 로밍 저장, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원                     | 기본 설정: 그룹 회원 음소거, 그룹 관리자 변경 알림 비활성화, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원                         | 기본 설정: 그룹 회원 음소거, 그룹 관리자 변경 알림 비활성화, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원 | 기본 설정: 그룹 회원 음소거, 그룹 관리자 변경 알림 활성화, 로밍 저장, [콘솔](https://console.cloud.tencent.com/im/qun-setting) 설정 지원                     |
|그룹 생성 후, 메시지를 발송하여 활성화|필요|불필요|불필요|불필요|불필요|
|기본 메시지 수신 옵션| 온/오프라인 푸시 수신 |온/오프라인 푸시 수신|온라인 푸시 메시지만 수신|온라인 푸시 메시지만 수신|온/오프라인 푸시 수신|

>!
>- 활성화가 필요한 그룹은 그룹 소유자가 메시지를 발송하기 전에는 비활성화 상태로, 그룹 소유자 외 다른 구성원들에게는 보이지 않습니다. 활성화가 필요 없는 그룹은 생성 후 바로 모든 그룹 구성원에게 노출됩니다.
>- 현재 오프라인 푸시는 Android(Android 오프라인 푸시) 및 iOS(APNs 푸시)만 지원합니다.
>- 업무 그룹(Work), 공개 그룹(Public), 회의 그룹(Meeting) 및 커뮤니티(Community)는 메시지 기록 저장 기능이 있으며 무상으로 7일(플래그십 버전은 기본 30일)동안 저장할 수 있습니다. 저장 기간을 연장이 필요하시면, [콘솔](https://console.cloud.tencent.com/im)에서 메시지 저장 시간을 수정할 수 있습니다. 메시지 기록 저장 시간 연장은 유료 부가 가치 서비스로 자세한 내용은 [요금 안내](https://intl.cloud.tencent.com/document/product/1047/34350)를 참고하십시오. 


### 일괄 가져오기 및 자동 삭제 기능 관련 차이점

|기능 항목|업무 그룹(Work)/ 공개 그룹(Public)/ 회의 그룹(Meeting)/커뮤니티(Community)|오디오-비디오 그룹(AVChatRoom)|
|--- |--- |--- |
|그룹, 그룹 구성원 및 그룹 메시지 가져오기|지원, 서드 파티 플랫폼에서 이전 그룹을 IM으로 마이그레이션 가능|미지원, 기존 그룹, 그룹 구성원 및 그룹 메시지만 사용 가능|
|그룹이 자동으로 회수되기까지의 시간(초)|백엔드는 그룹 소유자가 그룹을 해산하거나 모든 구성원이 그룹을 종료하지 않는 한 그룹을 다시 회수하지 않습니다(그룹 해산에 대해: 그룹 소유자가 그룹을 해산하거나 그룹이 자동으로 회수되지 않는 한 백엔드는 사전에 그룹을 해산하지 않습니다. 그룹에 대해 자동 회수를 구성한 경우 n초 동안 그룹 내에서 메시지를 보내는 사람이 없거나 그룹 프로필이 수정되면 백엔드가 불규칙적으로 그룹을 순회하며 그룹을 해산합니다).|백엔드는 그룹 소유자가 그룹을 해산하거나 모든 구성원이 그룹을 종료하지 않는 한 그룹을 회수하지 않습니다.|

>!그룹 회수 기능을 활성화하려면 [티켓 템플릿]([구성 변경 요구 티켓 | Tencent Cloud (tencentcloud.com)](https://www.tencentcloud.com/document/product/1047/44322)#.E8.87.AA.E5.8A.A8.E5.9B.9E.E6.94.B6.E7.BE.A4.E7.BB.84) 티켓을 제출하여 신청하십시오. 구성 후 비활성 그룹은 그룹 유형에 따라 정리됩니다(그룹 비활성이란 그룹에서 아무도 말하지 않고 구성원 변경도 없음을 의미함).

## 그룹 데이터 구조 소개
### 그룹 프로필 정보[](id:GroupBaseInfoFilter)

|필드 이름|유형|설명|비고|
|--- |--- |--- |--- |
|GroupId|String|그룹의 유일한 식별자|읽기 전용<br>그룹 ID는 App 내 유일성을 유지해야 하며(접두사: @TGS#), App 내 사용자 정의 그룹 ID 사용이 가능합니다.|
|Type|String|그룹 유형|읽기 전용<br>기본적으로 업무 그룹(Work), 공개 그룹(Public), 회의 그룹(Meeting), 오디오-비디오 그룹(AVChatRoom), 커뮤니티(Community) 유형 지원을 지원합니다. 자세한 내용은 [그룹 유형 소개](#GroupType)를 참고하십시오.<br>구버전 SDK에 포함된 Private, ChatRoom 및 BChatRoom 유형은 사용을 권장하지 않습니다. |
|Name|String|그룹 이름|읽기/쓰기 가능. 최대 30바이트, 변경 불가.|
|Introduction|String|그룹 소개|읽기/쓰기 가능. 최대 240바이트, 변경 불가.|
|Notification|String|그룹 공지|읽기/쓰기 가능. 최대 300바이트, 변경 불가.|
|FaceUrl|String|그룹 프로필 URL|읽기/쓰기 가능. 최대 100바이트, 변경 불가|
|Owner_Account|String|그룹 소유자ID|읽기 전용|
|CreateTime|Integer|그룹 생성 시간|읽기 전용|
|InfoSeq|Integer|그룹 정보가 변경될 때마다 값 증가|읽기 전용|
|LastInfoTime|Integer|그룹 정보 마지막 변경 시간|읽기 전용|
|LastMsgTime|Integer|그룹 내 메시지 마지막 발송 시간|읽기 전용|
|NextMsgSeq|Integer|그룹 내 다음 메시지의 Seq|읽기 전용<br>그룹 내 모든 메시지는 유일한 메시지 Seq가 있으며 해당 Seq는 메시지 발송 순서에 따라 연속 생성됩니다. 1부터 시작하며 그룹 내에서 메시지가 하나씩 증가할 때마다 NextMsgSeq도 1씩 증가(기본적으로 그룹 가입 및 탈퇴 알림과 같은 시스템 메시지도 메시지이므로 NextMsgSeq가 1 증가합니다)|
|MemberNum|Integer|현재 구성원 수|읽기 전용|
|MaxMemberNum|Integer|구성원 인원 제한|기본 값: 유료 인원 제한. 예를 들어, 체험판(인원 제한:20명)에서 업그레이드하는 경우 수정된 그룹의 기본 정보에 따라 이 필드를 해당 값으로 수정해야 합니다.|
|ApplyJoinOption|String|그룹 참여 신청 옵션|그룹 참여 신청 옵션은 다음 유형을 포함합니다: <ul style="margin:0;"><li>DisableApply: 참여 신청 금지</li><li>NeedPermission: 그룹 소유자 또는 관리자 승인 필요</li><li>FreeAccess: 승인 없이 자유롭게 참여 가능</li></ul>|


>!그룹 이름, 그룹 소개, 그룹 공지 및 그룹 프로필 사진 URL 필드 수정 권한은 다음과 같습니다. 
>- 업무 그룹(Work): 모든 구성원 수정 가능.
>- 기타 그룹 유형: **비 일반 구성원**역할만 수정 가능.

### 그룹 구성원 프로필 정보[](id:SelfInfoFilter)

|필드 이름|유형|설명|비고|
|--- |--- |--- |--- |
|Member_Account|String|그룹 구성원 ID|읽기 전용|
|Role|String|그룹 내 신분| Owner 그룹 소유자, Admin 그룹 관리자 및 Member 그룹 구성원을 포함한 그룹 내 신분|
|JoinTime|Integer|그룹 참여 시간|읽기 전용|
|MsgSeq|Integer|해당 구성원이 현재 읽은 메시지 Seq|읽기 전용|
|MsgFlag|String|메시지 수신 옵션|메시지 수신 옵션은 다음 유형을 포함합니다: <ul style="margin:0;"><li>AcceptAndNotify: 수신 및 알림</li><li>AcceptNotNotify: 알림 없이 수신(APNs 원격 푸시 트리거하지 않음)</li><li>Discard 그룹 메시지 차단(클라이언트에 메시지 푸시 안함)</li></ul>|
|LastSendMsgTime|Integer|마지막 메시지 발송 시간|3개 일반 그룹 지원, 오디오-비디오 그룹 미지원|
|NameCard|String|그룹 이름 카드|읽기/쓰기 가능. 최대 50바이트, 변경 불가.|
|MuteUntil  |Integer|음소거 상태|0: 그룹 구성원이 음소거되지 않음, 기타: 음소거 중지 타임스탬프|

## 사용자 정의 그룹 ID

App에서 그룹을 생성하면 IM은 생성된 그룹에 기본 그룹 ID를 할당합니다. ID는 @TGS#로 시작되며 App 내 유일성을 가집니다. 
또한, 간단하고 기억하기 쉬운 그룹 ID를 사용자 지정할 수 있습니다. 사용자 지정 그룹 ID는 길이가 48바이트 미만인 ASCII 문자열(0x20-0x7e)이어야 합니다. 기본 할당된 그룹 ID와 혼동을 피하기 위해 @TGS#을 접두사로 사용하지 않아야 합니다.
>!커뮤니티(Community)접두사는 @TGS#_ 이어야 합니다.

[](id:customize)
## 사용자 정의 토픽 ID

App에서 토픽이 생성되면 IM은 기본적으로 새 토픽에 기본 토픽 ID를 할당합니다. ID는 `GroupId+@TOPIC#_`으로 시작하며 그룹 내에서 고유합니다.

토픽 ID를 더 쉽게 기억하고 전달할 수 있도록 IM은 App에서 REST API를 통해 토픽을 생성하는 동안 `GroupId+@TOPIC#_+사용자 정의 부분` 형식으로 사용자 정의할 수 있습니다. 사용자 정의 부분은 `@TGS#_및@TOPIC#_@TOPIC#`(기본 그룹 ID와의 혼동을 방지하기 위해)을 포함할 수 없으며 출력 가능한 ASCII 문자(`0x20-0x7e`)로 구성되어야 합니다.

예를 들어 GroupId가 `@TGS#_@TGS#cQVLVHIM62CJ`이고 사용자 정의 부분이 `TestTopic`인 경우 사용자 정의 토픽 ID는 `@TGS#_@TGS#cQVLVHIM62CJ@TOPIC#_TestTopic`이 됩니다. 전체 사용자 정의 토픽 ID는 96바이트 이하여야 합니다.

## 사용자 정의 필드

IM을 사용하면 비즈니스 요구 사항에 따라 최대 10개의 그룹 수준 사용자 정의 필드와 5개의 구성원 수준 사용자 정의 필드를 구성할 수 있습니다. 사용자 정의 필드를 사용하면 App에서 그룹에 추가 데이터를 첨부할 수 있으며 기존 API를 통해 데이터를 읽고 쓸 수 있습니다.

### 특징 소개

모든 사용자 정의 필드는 다음과 같은 특징이 있습니다. 

- Key-Value 형식입니다. 
- Key는 String 유형이며 길이는 16바이트를 초과할 수 없습니다. 이름은 영어 알파벳 대소문자, 숫자, 언더바만 지원합니다. 
- Value는 사용자 정의 Buffer로 이진법 데이터일 수 있습니다. 그룹 차원의 Value 길이는 512바이트를, 구성원 차원의 Value 길이는 64바이트를 초과할 수 없습니다. 
- 모든 Key의 최소 읽기 권한 및 최소 쓰기 권한을 설정할 수 있습니다. 

모든 사용자 정의 필드의 읽기/쓰기 권한은 높음에서 낮음 순으로 각각 다음과 같습니다. 

1. App 관리자 읽기/쓰기 가능.
2. 그룹 소유자 읽기/쓰기 가능.
3. 그룹 관리자 읽기/쓰기 가능.
4. 그룹 구성원 읽기/쓰기 가능.
5. 누구나(비구성원 포함) 읽기/쓰기 가능.

예를 들어, App이 그룹에서 GroupLevel 필드 하나를 확장해야 하고, 이 필드의 Value는 그룹 레벨을 나타내는 숫자입니다. 이 레벨 정보가 App 백엔드에서 계산된다고 가정하면, 해당 필드의 최소 쓰기 권한은 ‘App 관리자 쓰기 가능’이어야 합니다. 해당 필드가 그룹 공개 프로필 정보의 일부인 경우, 최소 읽기 권한은 ‘누구나(비구성원 포함) 읽기 가능’이어야 합니다.

C/C++ 개발자의 경우 저장해야 할 Value가 숫자라면 이진법 형식이 아닌 문자열 형식으로 저장할 것을 권장합니다(예를 들어 저장할 숫자가 1일 경우, 저장 문자열은 이진법 데이터 0x01이 아닌 ‘1’). 사용자 정의 필드의 경우, IM은 추후에 Value에 대한 문자열 유형 숫자를 기반으로 수행되는 특정 수학 연산 등 더 많은 연산 방식을 지원할 예정입니다.

### 설정 방법

이 두 레벨의 사용자 정의 필드는 IM 콘솔에서 구성할 수 있습니다.
구성원 레벨 사용자 정의 필드를 구성하려면 먼저 그룹 유형을 지정해야 합니다. 이를 기반으로 구성된 오디오-비디오 그룹(AVChatRoom) 및 사용자 정의 그룹 유형은 이러한 유형의 그룹이 구성원 프로필을 저장하지 않기 때문에 그룹 구성원 레벨에서 사용자 정의 필드를 지원하지 않습니다.
‘자체 읽기/쓰기 권한’은 구성원이 자신의 구성원 수준 사용자 정의 필드 읽기/쓰기 여부를 나타냅니다. 예를 들어 ‘MemberLevel’이라는 구성원 수준 고객 필드는 그룹의 구성원 수준을 나타냅니다. 그룹 구성원은 자신의 수준을 읽을 수 있지만 수정할 수는 없으므로 ‘자체 읽기/쓰기 권한’은 이 필드에 대해 ‘읽기 가능/쓰기 불가’로 설정됩니다.
>!구성된 사용자 정의 필드는 삭제하거나 수정할 수 없습니다. 신중하게 진행하십시오.

## 사용자 정의 콜백

서드 파티 콜백은 App이 특별한 요구 사항을 구현하는 방식으로, 사용자에게 사용자 정의 기능을 제공합니다. 
IM 그룹 시스템은 다양한 콜백을 지원합니다. 자세한 내용은 [Webhook Overview](https://intl.cloud.tencent.com/document/product/1047/34354) 및 [Webhook Command List](https://intl.cloud.tencent.com/document/product/1047/34355)를 참고하십시오.
