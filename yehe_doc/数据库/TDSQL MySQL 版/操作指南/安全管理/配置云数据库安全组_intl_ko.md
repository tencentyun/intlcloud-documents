보안 그룹은 필터링이 가능한 상태 저장 가상 방화벽입니다. Tencent Cloud에서 제공하는 네트워크 보안 격리를 위한 중요한 수단으로 하나 이상의 TencentDB 인스턴스에 대한 네트워크 액세스 제어를 설정하는 데 사용할 수 있습니다. 한 리전에서 동일한 네트워크 보안 격리 요구가 있는 VPC의 인스턴스는 논리적 그룹인 동일한 보안 그룹에 넣을 수 있습니다(현재 클래식 네트워크의 인스턴스에서는 지원되지 않음). TencentDB와 CVM은 보안 그룹 목록을 공유하며 보안 그룹 내에서 규칙에 따라 서로 매칭됩니다. TencentDB에서 지원하지 않는 규칙은 적용되지 않습니다.

>?TencentDB 보안 그룹은 현재 VPC에 대한 네트워크 액세스 제어만 지원하지만 클래식 네트워크 또는 공용 네트워크는 지원하지 않습니다.


## TencentDB 보안 그룹 관리
[TDSQL for MySQL 콘솔](https://console.cloud.tencent.com/dcdb)에 로그인하고 인스턴스 목록에서 인스턴스 ID를 클릭하여 관리 페이지로 들어간 다음 **데이터 보안**>**보안 그룹**을 선택하여 보안 그룹을 관리합니다.
>!
>- TencentDB는 CVM의 보안 그룹 규칙을 공유합니다. TencentDB 보안 그룹 관리 페이지에서 필요에 따라 규칙 우선 순위를 일치시키거나 조정할 수 있습니다.
>- TencentDB 보안 그룹 관리 페이지에서는 보안 그룹 규칙을 생성하거나 삭제할 수 없습니다. 그렇게 하려면 [보안 그룹 보기](https://intl.cloud.tencent.com/document/product/215/35507)를 참고하십시오.
> 
![](https://main.qcloudimg.com/raw/29be2ecacf26245b65ef45e703b910de.png)

## 보안 그룹 정책
보안 그룹 정책은 트래픽 허용과 거부로 나뉩니다. VPC에 배포된 인스턴스의 인바운드 트래픽을 허용하거나 거부하도록 보안 그룹 규칙을 구성할 수 있습니다.

## TencentDB 보안 그룹 기본 정책
현재 TencentDB 인스턴스를 구매할 때 네트워크 유형으로 VPC를 선택하면 보안 그룹을 연결할 필요가 없습니다. 이 경우 기본 정책은 **모든 IP 및 포트 개방**입니다.

## 보안 그룹 템플릿
사용자 지정 보안 그룹을 생성하거나 템플릿에서 보안 그룹을 생성할 수 있습니다. 보안 그룹 규칙을 구성하여 CVM 인스턴스의 인바운드 및 아웃바운드 패킷을 제어할 수 있습니다.

## 보안 그룹 규칙
보안 그룹 규칙은 보안 그룹과 연결된 인스턴스의 인바운드 및 아웃바운드 트래픽을 제어하는 데 사용됩니다(규칙에 따라 위에서 아래로 필터링됨). 기본적으로 신규 보안 그룹은 모든 트래픽을 거절합니다(All Drop). 보안 그룹 규칙은 언제든지 수정할 수 있으며 신규 규칙은 즉시 적용됩니다.
각 보안 그룹 규칙에는 다음 항목이 포함됩니다.
- 프로토콜 및 포트: TencentDB는 고정 포트를 통한 액세스만 제공하므로 다른 포트로 구성된 보안 그룹 규칙은 TencentDB에 적용되지 않습니다. 예를 들어 TencentDB 인스턴스가 액세스에 포트 3306을 사용하는 경우 보안 그룹 규칙에서 TCP:3306 또는 ALL을 구성할 수 있습니다.
- 권한 부여 유형: 주소 범위(CIDR/IP) 기반 액세스.
- 원본(인바운드 규칙) 또는 대상(아웃바운드 규칙), 다음 옵션 중 하나를 선택합니다.
    - CIDR 표기법으로 단일 IP를 지정합니다.
    - CIDR 표기법으로 IP 범위를 지정합니다.
- 정책: 허용 또는 거부.

## 보안 그룹 우선 순위
TencentDB 콘솔에서 보안 그룹 우선 순위를 설정할 수 있으며 숫자가 작을수록 우선 순위가 높아집니다. 인스턴스가 여러 보안 그룹과 연결된 경우 우선 순위가 이 인스턴스에 대한 보안 규칙을 평가하는 기준으로 사용됩니다.
또한 인스턴스와 연결된 여러 보안 그룹의 마지막 정책이 **ALL Traffic 거절됨**인 경우 우선 순위가 가장 낮은 보안 그룹을 제외한 모든 보안 그룹의 마지막 정책 **ALL Traffic 거절됨**은 적용되지 않습니다.

## 보안 그룹의 제한
- 보안 그룹은 VPC [네트워크 환경](https://intl.cloud.tencent.com/document/product/213/5227)의 TencentDB 인스턴스에 적용할 수 있습니다.
- 각 사용자는 동일한 리전의 동일한 프로젝트에 최대 50개의 보안 그룹을 생성할 수 있습니다.
- 보안 그룹에 대해 최대 100개의 인바운드 또는 아웃바운드 규칙을 구성할 수 있습니다. TencentDB에는 활성 아웃바운드 트래픽이 없으므로 TencentDB에는 아웃바운드 규칙이 적용되지 않습니다.
- TencentDB 인스턴스는 여러 보안 그룹과 연결될 수 있고 보안 그룹은 여러 TencentDB 인스턴스와 연결될 수 있습니다. 수에는 제한이 없습니다.

>!인스턴스 수에는 제한이 없지만 너무 많은 인스턴스를 보안 그룹에 연결하지 않는 것이 좋습니다.

| 기능 설명 | 수량 |
|---------|---------|
| 보안 그룹 | 50개/리전 |
| 액세스 정책 | 100개/인바운드, 100개/아웃바운드 |
| 인스턴스와 연결된 보안 그룹의 수 | 무제한 |
| 보안 그룹과 연결된 인스턴스 수 | 무제한 |

## 보안 그룹 규칙 생성, 관리 및 삭제
TencentDB는 CVM의 보안 그룹 규칙을 공유합니다. TencentDB 콘솔의 보안 그룹 관리 페이지에서 필요에 따라 규칙 우선 순위를 일치시키거나 조정할 수 있습니다. 보안 그룹 규칙을 생성, 관리 또는 삭제하려면 VPC 콘솔의 [보안 그룹 페이지](https://console.cloud.tencent.com/cvm/securitygroup)에서 수행하십시오. 자세한 지침은 [보안 그룹 보기](https://intl.cloud.tencent.com/document/product/215/35507)를 참고하십시오.
