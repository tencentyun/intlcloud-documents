## 작업 시나리오

현재 루트 계정 A(APPID: 1250000000)에 버킷 `examplebucket1-1250000000`과 `examplebucket2-1250000000`이 있고, 다른 루트 계정 B와 해당 서브 계정 B0이 있으며, B0에서 업무 상의 수요로 계정 A에 속한 두 버킷에 대한 작업이 필요한 경우를 예시로, 다음과 같이 관련 권한 부여 작업을 소개합니다.


## 작업 순서
#### 루트 계정 B에 A 계정이 소유한 버킷에 대한 권한 부여

1. 루트 계정 A를 사용해 [COS](https://console.cloud.tencent.com/cos5) 콘솔에 로그인합니다.
2. [버킷 리스트]를 클릭하여 권한 부여가 필요한 버킷을 찾아 이름을 클릭하여 버킷의 세부 정보 페이지로 이동합니다.
3. 왼쪽 메뉴에서 [권한 관리]를 클릭하여 해당 버킷의 권한 관리 페이지로 이동합니다.
4. [Policy 권한 설정]의 설정 페이지에서 [정책 추가]를 클릭하고 다음과 같이 입력합니다.
	- **효과**: 허용
	- **사용자**: 사용자 추가를 클릭하고 사용자 유형을 루트 계정으로 선택한 후 계정 ID에 루트 계정 B의 UIN을 입력합니다. 예시: 100000000002.
	- **리소스**: 필요에 따라 선택합니다. 기본값은 버킷 전체입니다.
	- **리소스 경로**: 리소스 지정 시에만 작성하며, 필요에 따라 작성합니다.
	- **작업**: 작업 추가를 클릭하고 모든 작업을 선택합니다. 일부 작업만 권한을 부여할 경우 실제 필요한 작업 한 개 또는 여러 개를 선택할 수 있습니다.
	- **조건**: 필요에 따라 작성하며, 필요 없는 경우 비워 둘 수 있습니다.
	![](https://main.qcloudimg.com/raw/4bcfb704ad37a793adb34aacdf6cb3f1.png)
5. [확인]을 클릭하면, 루트 계정 B는 해당 버킷에 대한 관련 권한을 획득하게 됩니다.
6. 기타 버킷에 대한 권한 부여가 필요한 경우 이상의 순서를 다시 반복합니다.

#### 서브 계정 B0에 A 계정이 소유한 버킷에 대한 권한 부여

1. 루트 계정 B를 사용하여 CAM 콘솔에 로그인한 후 [정책](https://console.cloud.tencent.com/cam/policy) 페이지로 이동합니다.
2. [사용자 정의 정책 생성]>[정책 구문에 따른 생성]을 선택한 후, 빈 템플릿을 선택하고 [다음 단계]를 클릭합니다.
>?루트 계정 B에서 서브 계정 B0에 권한을 부여합니다. 사용자 정의 정책을 통해서만 권한을 부여할 수 있으며, 사전 설정 정책을 통한 권한 부여는 지원하지 않습니다.
3. 다음과 같이 작성합니다.
	- **정책 이름**: 중복되지 않고 의미가 있는 정책 이름을 사용자 정의합니다. 예: cos-child-account
	- **비고**: 선택 가능하며, 직접 작성합니다.
	- **정책 내용**:
```shell
{
    "version": "2.0",
    "statement": [
        {
            "action": "cos:*",
            "effect": "allow",
            "resource": "qcs::cos::uid/1250000000:examplebucket1-1250000000/*"
        }
    ]
}
```
이 중에서 `uid/1250000000`의 1250000000는 루트 계정 A의 APPID이며 `examplebucket1-1250000000`는 권한이 부여된 버킷 이름입니다. 버킷 리소스 `examplebucket1-1250000000/*`는 모든 루트 계정 B가 보유하고 있는 A 소유의 버킷에 대한 작업 권한을 모두 서브 계정 B0에 부여한다는 의미입니다.
![](https://main.qcloudimg.com/raw/f53be7ca4360edd0547e440868506c8e.png)
4. [정책 생성]을 클릭하여 정책 생성을 완료합니다.
5. **정책** 리스트에서 방금 생성한 정책을 찾아 오른쪽 [사용자/그룹 연결]을 클릭합니다.
![](https://main.qcloudimg.com/raw/4ebafe21d09f664e49d0dfc23020229d.png)
6. **사용자/사용자 그룹 연결** 대화 상자에서 서브 계정 B0을 선택하고 [확인]을 클릭합니다.
![](https://main.qcloudimg.com/raw/79e063a0f4f3647e305e3abd947412a0.png)
7. 권한 부여 작업이 완료됩니다. 이제 서브 계정 B0의 키를 사용하여 A 소유의 버킷에 대한 작업을 테스트해 볼 수 있습니다.
